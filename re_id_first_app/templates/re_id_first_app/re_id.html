<!DOCTYPE html>

{% load static %}
<html lang="en">
<head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title>Person re_ID</title>
    <style>
            .preview_box img
            {
              display: block;
              margin-left: auto;
              margin-right: auto;
              width: 200px;
            }
            #img_input
            {
              display: block;
              margin-left: auto;
              margin-right: auto;
            }
            #uploadButton
            { 
              margin-left: auto;
              margin-right: auto;
            }
            p
            {
            text-align: center;
            }
            #carouselExampleIndicators
            {
             
             width: 300px;
             margin-left: auto;
             margin-right: auto;
            }
            #resultsGallery
            {
              display: none;
            }
          </style>

          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body style="background-color: azure;">

    <h1>Source file input</h1>
    <br>
    <p>{{ data.0.dir }}</p>
    <form action="/re_id/" method="GET">
        {% csrf_token %} source_img <input type="text" name="img_dir">
        <input type="submit" value="Submit the dir" class="btn btn-primary btn-sm" id="uploadButton">
        <button id="showButton" type="button" class="btn btn-primary btn-sm">Show</button>
	<script type="text/javaScript">
	    document.getElementById("showButton").onclick = function()
		{
		     $('#resultsGallery').css('display','block');
		   {#// document.getElementById("resultsGallery").innerHTML = "<div id='carouselExampleIndicators' class='carousel slide' data-ride='carousel'><ol class='carousel-indicators'<li data-target='#carouselExampleIndicators' data-slide-to='0' class='active'></li><li data-target='#carouselExampleIndicators' data-slide-to='1'></li><li data-target='#carouselExampleIndicators' data-slide-to='2'></li></ol><div class='carousel-inner'><div class='carousel-item active'><img class='d-block w-100' src='1.jpg' alt='First slide'></div><div class='carousel-item'><img class='d-block w-100' src='2.jpg' alt='Second slide'></div><div class='carousel-item'><img class='d-block w-100' src='3.jpg' alt='Third slide'></div></div><a class='carousel-control-prev' href='#carouselExampleIndicators' role='button' data-slide='prev'><span class='carousel-control-prev-icon' aria-hidden='true'></span><span class='sr-only'>��һ��</span></a><a class='carousel-control-next' href='#carouselExampleIndicators' role='button' data-slide='next'><span class='carousel-control-next-icon' aria-hidden='true'></span><span class='sr-only'>��һ��</span></a></div>";#}
		}
  </script>
    <br>
    <div id="resultsGallery">
        <table border="1">
            <thead>
                <th>Rank</th>
                <th>Dir</th>
            </thead>
            <br>
            <tbody>
                {% for line in data %}
                <tr>
                    <td>{{line.index}}</td>
                    <td align="center">{{line.dir}}</td>
{#                    <td>{{ data.0.dir }}</td>#}
                </tr>
                {% endfor %}



            </tbody>
        </table>
            <script>
                   var dirs = new Array();
                    {% for line in data %}
                    var indexStr = "{{forloop.counter0}}";
                    var indexIn =  new Number(indexStr)
                    var imgsrcs = document.getElementsByClassName("carousel-item");
                    var imgName = "{{line.dir}}";
                    //var imgname = "earth.jpg";
                    var dir = "/static/image/Market-1501-v15.09.15/bounding_box_test/" + imgName;

                    //var dir = imgname;
                    imgsrcs.item(indexIn).src= dir;
                    dirs[indexIn] = dir;

                    {% endfor %}
        </script>

         
        
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="7"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="8"></li>

                    </ol>

                     <div class="carousel-inner">
                        <div class="carousel-item active" >
                          <img class="d-block w-100" src="{% static data.0.dir %}" alt="First slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.1.dir %}" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.2.dir %}" alt="Third slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.3.dir %}" alt="Forth slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.4.dir %}" alt="Fifth slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.5.dir %}" alt="Sixth slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.6.dir %}" alt="Seventh slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.7.dir %}" alt="Eighth slide">
                        </div>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="{% static data.8.dir %}" alt="Ninth slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="{% static data.9.dir %}" alt="Tenth slide">
                          </div>
                    </div>
                     <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous slide</span>
                     </a>
                     <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next slide</span>
                     </a>
                </div>

                </div>
 
                
                            
{#                var dir = {% static "image/Market-1501-v15.09.15/bounding_box_test" %} + imgName#}
                <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
                  
    </form>
</body>

    </html>